import{d as k,m as D,h as B,W as K,K as S,f as $,c as g,w as F,k as i,t as l,b as s,v as n,C as E,E as x,P as C,D as M,F as T}from"./index-tSUvi4SZ.js";import{s as b}from"./inputs-b2AQoK3y.js";import{M as z}from"./index-FPJAd0VN.js";const N={class:"add_edit"},P={class:"text-xl"},A={class:"content"},O=i("label",{for:"title"},"Title",-1),W={class:"input-error"},q={class:"mb-3"},G=i("label",{for:"description"},"Description",-1),H={class:"input-error"},Q=k({__name:"ModalAddOrEdit",props:{updated:{},modal:{type:Boolean}},emits:["close"],setup(w,{emit:U}){const V=U,t=w,p=D(),{user:h}=B();let a=b({description:"",title:""});const{check:m,errors:r,setError:v,clear:j}=K({description:["empty","max:80"],title:["empty","min:3"]}),d=()=>{V("close"),a.clear(),j()},f=S(()=>(t!=null&&t.updated&&(a=b(t.updated)),t.modal)),u=()=>{if(m(n.omit(a,["clear"])).value){const e=n.omit(a,["clear"]);p.update(e,{actions:()=>d(),error:o=>v(o)})}},c=()=>{var e;m(n.omit(a,["clear"])).value&&p.create({...a,_author:String((e=h.value)==null?void 0:e._id)},{actions:()=>d(),error:o=>v(o)})},y=T(r);return(_,e)=>($(),g(s(z).Main,{modelValue:f.value,"onUpdate:modelValue":e[5]||(e[5]=o=>f.value=o),onClose:e[6]||(e[6]=o=>d())},{default:F(()=>[i("div",N,[i("h1",P,l(s(n.isEmpty)(t==null?void 0:t.updated)?"New Project":"Update project"),1),i("div",A,[i("div",null,[O,E(i("input",{id:"title","onUpdate:modelValue":e[0]||(e[0]=o=>s(a).title=o),class:x(["input capitalize",s(y)("title")]),placeholder:"Title project",onKeyup:e[1]||(e[1]=C(o=>s(n.isEmpty)(t==null?void 0:t.updated)?c():u(),["enter"]))},null,34),[[M,s(a).title]]),i("p",W,l(s(r).title),1)]),i("div",q,[G,E(i("input",{id:"description","onUpdate:modelValue":e[2]||(e[2]=o=>s(a).description=o),class:x(["input",s(y)("description")]),placeholder:"Description general project",onKeyup:e[3]||(e[3]=C(o=>s(n.isEmpty)(t==null?void 0:t.updated)?c():u(),["enter"]))},null,34),[[M,s(a).description]]),i("p",H,l(s(r).description),1)]),i("button",{class:"btn-main",onClick:e[4]||(e[4]=o=>s(n.isEmpty)(t==null?void 0:t.updated)?c():u())},l(s(n.isEmpty)(t==null?void 0:t.updated)?"Create":"Update"),1)])])]),_:1},8,["modelValue"]))}});export{Q as default};
