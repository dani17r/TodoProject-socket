import{_ as B}from"./ShareUrl.vue_vue_type_script_setup_true_lang-Je2FlG7j.js";import{_ as E}from"./InputSearch.vue_vue_type_style_index_0_lang-eUZlfdwP.js";import{d as N,h as T,K as p,L as w,v as i,M as C,f as h,c as D,w as F,k as a,g as f,b as l,I as L,i as V,N as U,O as z,t as r}from"./index-BZhkuRv_.js";import{s as H}from"./inputs-iTOUXyt0.js";import{M as I}from"./index-tF_-xJyb.js";const A={class:"content-modal-shared"},K=a("h1",{class:"text-shared"},"Links of projects shared with me",-1),O={class:"content-shared scrollable"},W={class:"ml-2"},q={class:"ml-2"},G={class:"ml-2"},Y=N({__name:"ModalSharedWithMe",props:{modelValue:{type:Boolean,default:!1},minHeight:{default:"200px"}},emits:["close"],setup(g,{emit:x}){const k=x,u=g,{getSharedUser:S,shared:o}=T(),v=p(()=>u.modelValue),b=p(()=>o.value),n=w(o.value);let d=w(!0);const _=()=>{d.value&&(d.value=!1,k("close"),setTimeout(()=>d.value=!0,400))},y=p(()=>{var m;return((m=b.value)==null?void 0:m.filter(e=>{let t=i.lowerCase(e.description).includes(s.input),c=i.lowerCase(e.author.fullname).includes(s.input),M=i.lowerCase(e.author.email).includes(s.input),$=i.lowerCase(e.title).includes(s.input);return t||c||M||$}))||[]}),s=H({input:"",find:i.debounce(()=>n.value=y.value,900),empty:()=>{n.value=o.value,s.input=""}});return C(()=>n.value=o.value),C(()=>{u.modelValue&&S({actions:()=>{setTimeout(()=>n.value=o.value,200)}},!0)}),(m,e)=>(h(),D(l(I).Main,{modelValue:v.value,"onUpdate:modelValue":e[4]||(e[4]=t=>v.value=t),"min-height":u.minHeight,"z-index-important":!0,width:"620px","z-index":1e3,onClose:e[5]||(e[5]=t=>_())},{default:F(()=>[a("button",{class:"absolute right-[20px]",onClick:e[0]||(e[0]=t=>_())},[f(l(L).Close)]),a("div",A,[K,f(E,{modelValue:l(s).input,"onUpdate:modelValue":e[1]||(e[1]=t=>l(s).input=t),"class-content":"w-full",class:"w-full",placeholder:"Search title, description, autor or email",onChange:e[2]||(e[2]=t=>l(s).find()),onClear:e[3]||(e[3]=t=>(l(s).clear(),l(s).empty()))},null,8,["modelValue"]),a("div",O,[(h(!0),V(U,null,z(n.value,(t,c)=>(h(),V("div",{key:c,class:"shared"},[f(B,{"project-id":t._id,class:"w-full !mb-0 pr-3"},null,8,["project-id"]),a("span",W,"Autor: "+r(t.author.fullname)+" - "+r(t.author.email),1),a("span",q,"Title: "+r(t.title),1),a("span",G,"Description: "+r(t.description),1)]))),128))])])]),_:1},8,["modelValue","min-height"]))}});export{Y as default};
