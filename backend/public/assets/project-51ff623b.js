import{X as p,r as c,R as u,Y as v,G as f,p as m}from"./index-42a38fae.js";const N=()=>{const{getAll:t,remove:d,loading:g,query:a}=p(),n=m(),o=c({data:{},id:""}),s=c({values:{},get:e=>s.values[e],toggle:e=>{s.values[e]=!s.values[e]}}),l=u({input:"",find:()=>{a.value.search!=l.input&&(a.value.search=l.input,t())}}),r=v({addEdit:!1,confirm:!1,open:{create:()=>{r.toggle("addEdit"),o.data={}},update:(e,i)=>{o.data=f.pick(e,["_id","title","description"]),s.toggle(i),r.toggle("addEdit")},delete:(e,i)=>{o.id=e,s.toggle(i),r.toggle("confirm")}}});return{pagination:{next(e){e&&(a.value.pag=Number(a.value.pag)+1,t())},previe(e){e&&(a.value.pag=Number(a.value.pag)-1,t())},selectPag(e){e!=a.value.pag&&(a.value.pag=e,t())}},dropdown:s,refresh:()=>{a.value.pag>1&&(a.value.pag=1),t()},ascDesc:e=>{a.value.sort!=`createdAt:${e}`&&(a.value.sort=`createdAt:${e}`,t())},loading:g,select:o,deleted:()=>{d(o.id,{actions:()=>r.toggle("confirm"),error:e=>{r.toggle("confirm"),n.active({msg:e.message})}}),o.id=""},search:l,modals:r,query:a}};export{N as p};
