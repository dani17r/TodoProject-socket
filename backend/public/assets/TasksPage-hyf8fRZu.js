import{r as c,u as d,s as i,e as o,d as m,a as f,o as p,c as k,w as v,b as l,f as g,g as u}from"./index-tSUvi4SZ.js";import{s as h,T as r}from"./index-zB9U5U-R.js";const e=c({deleteAll:!0,create:!0,update:!0,delete:!0,trash:!0,move:!0}),T=()=>{const{getProjectId:n}=d(),t=`broadcast:${n.value}`,{socketTask:a}=i(),s=h();return o.on("task/delete-all",()=>e.deleteAll=!1),o.on("task/update",()=>e.update=!1),o.on("task/create",()=>e.create=!1),o.on("task/delete",()=>e.delete=!1),o.on("task/trash",()=>e.trash=!1),o.on("task/move",()=>e.move=!1),a.value.on(`${t}/create`,()=>{setTimeout(()=>e.create=!0,300),e.create&&s.getAll()}),a.value.on(`${t}/update`,()=>{setTimeout(()=>e.update=!0,300),e.update&&s.getAll()}),a.value.on(`${t}/trash`,()=>{setTimeout(()=>e.trash=!0,300),e.trash&&s.getAll()}),a.value.on(`${t}/change-position`,()=>{setTimeout(()=>e.move=!0,300),e.move&&s.getAll()}),a.value.on(`${t}/delete`,()=>{setTimeout(()=>e.delete=!0,300),e.delete&&s.getAll()}),a.value.on(`${t}/delete-all`,()=>{setTimeout(()=>e.deleteAll=!0,300),e.deleteAll&&s.getAll()}),a},$=m({__name:"TasksPage",setup(n){const{initPermissions:t}=f();return T(),p(()=>{t()}),(a,s)=>(g(),k(l(r).Content,null,{default:v(()=>[u(l(r).MenuShare),u(l(r).Options),u(l(r).List)]),_:1}))}});export{$ as default};
