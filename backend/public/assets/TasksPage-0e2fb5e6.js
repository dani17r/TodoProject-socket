import{r as c,e as o,c as i,s as d,d as m,a as f,u as p,o as k,b as v,f as h,w as T,g as l,h as g,i as n}from"./index-e1448e93.js";import{s as A,T as r}from"./index-c431b859.js";const e=c({deleteAll:!0,create:!0,update:!0,delete:!0,trash:!0,move:!0}),_=u=>{const a=`broadcast:${u}`,s=A();o.on("task/delete-all",()=>e.deleteAll=!1),o.on("task/update",()=>e.update=!1),o.on("task/create",()=>e.create=!1),o.on("task/delete",()=>e.delete=!1),o.on("task/trash",()=>e.trash=!1),o.on("task/move",()=>e.move=!1);const t=i(()=>d("/task",u));return t.value.on(`${a}/create`,()=>{setTimeout(()=>e.create=!0,300),e.create&&s.getAll()}),t.value.on(`${a}/update`,()=>{setTimeout(()=>e.update=!0,300),e.update&&s.getAll()}),t.value.on(`${a}/trash`,()=>{setTimeout(()=>e.trash=!0,300),e.trash&&s.getAll()}),t.value.on(`${a}/change-position`,()=>{setTimeout(()=>e.move=!0,300),e.move&&s.getAll()}),t.value.on(`${a}/delete`,()=>{setTimeout(()=>e.delete=!0,300),e.delete&&s.getAll()}),t.value.on(`${a}/delete-all`,()=>{setTimeout(()=>e.deleteAll=!0,300),e.deleteAll&&s.getAll()}),t.value},x=m({__name:"TasksPage",setup(u){const{initPermissions:a}=f(),s=p(),t=_(String(s.params.id));return k(()=>t.close()),v(()=>{a(),t.open()}),($,b)=>(g(),h(l(r).Content,null,{default:T(()=>[n(l(r).MenuShare),n(l(r).Options),n(l(r).List)]),_:1}))}});export{x as default};
