import{d as h,C as k,j as B,R as E,v as D,c as S,h as T,f as $,w as z,l as a,t as l,g as s,G as n,m as x,z as C,U as M,n as U,T as K,N}from"./index-42a38fae.js";const A={class:"add_edit"},F={class:"text-xl"},O={class:"content"},G=a("label",{for:"title"},"Title",-1),P={class:"input-error"},R={class:"mb-3"},q=a("label",{for:"description"},"Description",-1),H={class:"input-error"},J=h({__name:"ModalAddOrEdit",props:{updated:{},modal:{type:Boolean}},emits:["close"],setup(j,{emit:w}){const V=w,t=j,p=k(),{user:b}=B();let i=E({description:"",title:""});const{check:m,errors:d,setError:v,clear:g}=D({description:["empty","max:80"],title:["empty","min:3"]}),r=()=>{V("close"),i.clear(),g()},_=S(()=>(t!=null&&t.updated&&(i=E(t.updated)),t.modal)),u=()=>{if(m(n.omit(i,["clear"])).value){const e=n.omit(i,["clear"]);p.update(e,{actions:()=>r(),error:o=>v(o)})}},c=()=>{var e;m(n.omit(i,["clear"])).value&&p.create({...i,_author:String((e=b.value)==null?void 0:e._id)},{actions:()=>r(),error:o=>v(o)})},y=N(d);return(f,e)=>(T(),$(s(K).Main,{modelValue:_.value,"onUpdate:modelValue":e[5]||(e[5]=o=>_.value=o),onClose:e[6]||(e[6]=o=>r())},{default:z(()=>[a("div",A,[a("h1",F,l(s(n.isEmpty)(t==null?void 0:t.updated)?"New Project":"Update project"),1),a("div",O,[a("div",null,[G,x(a("input",{id:"title","onUpdate:modelValue":e[0]||(e[0]=o=>s(i).title=o),class:C(["input capitalize",s(y)("title")]),placeholder:"Title project",onKeyup:e[1]||(e[1]=M(o=>s(n.isEmpty)(t==null?void 0:t.updated)?c():u(),["enter"]))},null,34),[[U,s(i).title]]),a("p",P,l(s(d).title),1)]),a("div",R,[q,x(a("input",{id:"description","onUpdate:modelValue":e[2]||(e[2]=o=>s(i).description=o),class:C(["input",s(y)("description")]),placeholder:"Description general project",onKeyup:e[3]||(e[3]=M(o=>s(n.isEmpty)(t==null?void 0:t.updated)?c():u(),["enter"]))},null,34),[[U,s(i).description]]),a("p",H,l(s(d).description),1)]),a("button",{class:"btn-main",onClick:e[4]||(e[4]=o=>s(n.isEmpty)(t==null?void 0:t.updated)?c():u())},l(s(n.isEmpty)(t==null?void 0:t.updated)?"Create":"Update"),1)])])]),_:1},8,["modelValue"]))}});export{J as default};
