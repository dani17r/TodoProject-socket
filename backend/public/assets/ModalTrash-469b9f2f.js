import{d as M,a as $,c as q,Y as B,h as i,k as d,i as o,w as r,l as s,g as e,I as c,V as S,m as v,y as p,F as h,S as j,t as A,G as x,T as D,a5 as I}from"./index-6e886427.js";import{s as L}from"./index-2e9bf371.js";import{e as g}from"./popper.esm-7d4dd345.js";const N={class:"header-trash"},Y={class:"flex justify-between"},z={class:"flex items-center gap-3"},E=s("span",{class:"text-xl"},"Trash",-1),F=s("span",{class:"mr-2"},"Remove all",-1),H={class:"content-trash px-6"},U={class:"content-list !min-h-[450px] scrollable"},G={class:"flex flex-col w-full"},P={class:"w-full inline-flex justify-between"},R={class:"inline-flex gap-4"},J={class:"text-zinc-200 font-bold text-lg"},K={class:"inline-flex"},O={class:"ql-container ql-disabled"},Q=["innerHTML"],se=M({__name:"ModalTrash",props:{modal:{type:Boolean}},emits:["close"],setup(b,{emit:k}){const w=k,y=b,{permissions:m,allowIfPermission:u}=$(),f=q(()=>y.modal),n=B({confirm:!1}),a=L(),C=_=>a.remove(_),V=()=>{n.toggle("confirm"),a.removeAll()};return(_,t)=>(i(),d(h,null,[o(e(D).Main,{modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=l=>f.value=l),"class-content":"flex justify-center items-end",class:"content-modal !px-0",transition:"modal",onClose:t[2]||(t[2]=l=>w("close"))},{default:r(()=>[s("div",N,[s("div",Y,[s("h1",z,[o(e(c).Delete,{class:"inline"}),S(),E]),o(e(g),{content:"You don't have allow for removed all",disabled:e(m).d},{default:r(()=>[v(s("button",{class:"btn-remove-all",onClick:t[0]||(t[0]=l=>e(u)("d",()=>e(n).toggle("confirm")))},[F,o(e(c).Close,{class:"icon-task-delete"})],512),[[p,e(a).tasks.trash.length]])]),_:1},8,["disabled"])])]),s("div",H,[s("div",U,[(i(!0),d(h,null,j(e(a).tasks.trash,(l,T)=>(i(),d("div",{key:T,class:"list"},[s("div",G,[s("div",P,[s("div",R,[s("h2",J,A(e(x.truncate)(l.name,{length:60})),1)]),s("div",K,[o(e(g),{content:"You don't have allow for removed all",disabled:e(m).d},{default:r(()=>[o(e(c).Close,{class:"icon-task-delete",onClick:W=>e(u)("d",()=>C(l._id))},null,8,["onClick"])]),_:2},1032,["disabled"])])]),v(s("div",O,[s("div",{class:"ql-editor ql-blank",innerHTML:e(x.truncate)(l.content,{length:80})},null,8,Q)],512),[[p,l.content!=""]])])]))),128))])])]),_:1},8,["modelValue"]),o(I,{modelValue:e(n).confirm,"onUpdate:modelValue":t[3]||(t[3]=l=>e(n).confirm=l),"z-index":200,message:"Are you sure to delete all ?",onClose:t[4]||(t[4]=l=>e(n).toggle("confirm")),onConfirm:t[5]||(t[5]=l=>V())},null,8,["modelValue"])],64))}});export{se as default};
