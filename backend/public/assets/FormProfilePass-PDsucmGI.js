import{d as g,h as P,r as x,K as C,W as V,f as k,i as N,k as e,C as i,D as a,t as d,b as l,V as B}from"./index-BZhkuRv_.js";const E={class:"content-profile"},S=e("h1",{class:"font-bold text-xl mb-2"},"Change Password",-1),D={class:"box-field"},F=e("label",{for:"current_pass"},"Current Password",-1),U={class:"input-error"},T={class:"box-field"},q=e("label",{for:"new_pass"},"New Password",-1),K={class:"input-error"},M={class:"box-field"},W=e("label",{for:"verifyNewPass"},"Verify password",-1),$={class:"input-error"},j={class:"box-field mt-3"},z=["disabled"],H=g({__name:"FormProfilePass",setup(A){const c=B(),{user:f,changePassword:_}=P(),s=x({current:"",verify:"",new:""}),m=C(()=>!!(s.current.length&&s.new.length&&s.verify.length)),{check:w,errors:n,setError:v}=V({current:["empty","min:8"],verify:["empty","min:8"],new:["empty","min:8"]}),h={message:"The new password is different to verification",field:"verify"},y=()=>{var t;w(s).value&&(s.verify!=s.new?v(h):_({currentPassword:s.current,_id:String((t=f.value)==null?void 0:t._id),newPassword:s.new},{actions:o=>c.success(String(o==null?void 0:o.message)),error:o=>c.error(o.message)}))};return(b,t)=>{var o,p,u;return k(),N("div",E,[S,e("div",D,[F,i(e("input",{id:"current_pass","onUpdate:modelValue":t[0]||(t[0]=r=>s.current=r),placeholder:"••••••••",type:"password",class:"input"},null,512),[[a,s.current,void 0,{trim:!0}]]),e("p",U,d((o=l(n))==null?void 0:o.current),1)]),e("div",T,[q,i(e("input",{id:"new_pass","onUpdate:modelValue":t[1]||(t[1]=r=>s.new=r),placeholder:"••••••••",type:"password",class:"input"},null,512),[[a,s.new,void 0,{trim:!0}]]),e("p",K,d((p=l(n))==null?void 0:p.new),1)]),e("div",M,[W,i(e("input",{id:"verify_new_pass","onUpdate:modelValue":t[2]||(t[2]=r=>s.verify=r),placeholder:"••••••••",type:"password",class:"input"},null,512),[[a,s.verify,void 0,{trim:!0}]]),e("p",$,d((u=l(n))==null?void 0:u.verify),1)]),e("div",j,[e("button",{class:"btn-main disabled-btn-main",disabled:!m.value,onClick:t[3]||(t[3]=r=>y())}," Change ",8,z)])])}}});export{H as default};
