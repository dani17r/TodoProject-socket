import{d as T,a as $,K as q,f as i,i as d,g as l,w as r,k as s,b as e,I as c,T as B,C as v,Q as _,N as h,O as N,t as j,v as x}from"./index-BZhkuRv_.js";import{_ as A}from"./ModalConfirm.vue_vue_type_style_index_0_lang-ti1175Vl.js";import{a as D}from"./inputs-iTOUXyt0.js";import{M as I}from"./index-tF_-xJyb.js";import{s as L}from"./index-R18N4lAn.js";import{e as g}from"./popper.esm-wbem07TK.js";const S={class:"header-trash"},z={class:"flex justify-between"},E={class:"flex items-center gap-3"},H=s("span",{class:"text-xl"},"Trash",-1),U=s("span",{class:"mr-2"},"Remove all",-1),Y={class:"content-trash px-6"},F={class:"content-list !min-h-[450px] scrollable"},K={class:"flex flex-col w-full"},O={class:"w-full inline-flex justify-between"},P={class:"inline-flex gap-4"},Q={class:"text-zinc-200 font-bold text-lg"},R={class:"inline-flex"},G={class:"ql-container ql-disabled"},J=["innerHTML"],le=T({__name:"ModalTrash",props:{modal:{type:Boolean}},emits:["close"],setup(b,{emit:C}){const k=C,w=b,{permissions:m,allowIfPermission:f}=$(),u=q(()=>w.modal),n=D({confirm:!1}),a=L(),V=p=>a.remove(p),y=()=>{n.toggle("confirm"),a.removeAll()};return(p,t)=>(i(),d(h,null,[l(e(I).Main,{modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=o=>u.value=o),"class-content":"flex justify-center items-end",class:"content-modal !px-0",transition:"modal",onClose:t[2]||(t[2]=o=>k("close"))},{default:r(()=>[s("div",S,[s("div",z,[s("h1",E,[l(e(c).Delete,{class:"inline"}),B(),H]),l(e(g),{content:"You don't have allow for removed all",disabled:e(m).d},{default:r(()=>[v(s("button",{class:"btn-remove-all",onClick:t[0]||(t[0]=o=>e(f)("d",()=>e(n).toggle("confirm")))},[U,l(e(c).Close,{class:"icon-task-delete"})],512),[[_,e(a).tasks.trash.length]])]),_:1},8,["disabled"])])]),s("div",Y,[s("div",F,[(i(!0),d(h,null,N(e(a).tasks.trash,(o,M)=>(i(),d("div",{key:M,class:"list"},[s("div",K,[s("div",O,[s("div",P,[s("h2",Q,j(e(x.truncate)(o.name,{length:60})),1)]),s("div",R,[l(e(g),{content:"You don't have allow for removed all",disabled:e(m).d},{default:r(()=>[l(e(c).Close,{class:"icon-task-delete",onClick:W=>e(f)("d",()=>V(o._id))},null,8,["onClick"])]),_:2},1032,["disabled"])])]),v(s("div",G,[s("div",{class:"ql-editor ql-blank",innerHTML:e(x.truncate)(o.content,{length:80})},null,8,J)],512),[[_,o.content!=""]])])]))),128))])])]),_:1},8,["modelValue"]),l(A,{modelValue:e(n).confirm,"onUpdate:modelValue":t[3]||(t[3]=o=>e(n).confirm=o),"z-index":200,message:"Are you sure to delete all ?",onClose:t[4]||(t[4]=o=>e(n).toggle("confirm")),onConfirm:t[5]||(t[5]=o=>y())},null,8,["modelValue"])],64))}});export{le as default};
